{% extends 'standard_base_template.html' %}

{% block title %} Rewalidacja {% endblock %}

{% block styles %}
    {{ block.super }}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/gradient_anim.css' %}">
    <link rel="stylesheet" href="{% static 'css/fixed_settings.css' %}">
    <link rel="stylesheet" href="{% static 'css/flex_form.css' %}">
    <link rel="stylesheet" href="{% static 'individual/css/index.css' %}">
{% endblock %}

{% block home_icon %}
    <a href="{% url 'revalidation:start' %}"><i class="fas fa-user-friends"></i></a>
{% endblock %}

{% block content %}
    <div class="form_wrapper">
        <form id="flex_form"
              action="{% url 'revalidation:start' %}"
              method="post"
              revalidation-students-url="{% url 'revalidation:load_revalidation_students' %}">
            {% csrf_token %}
            {% include 'standard_form_template.html' with form=revalidation_lesson_form %}
            <input class="form__submit btn btn-lg" type="submit" value="Oszczędź czas">
        </form>
    </div>

    <div class="settings_wrapper">
        <div class="settings">
            <a href="{% url 'revalidation:settings' %}"><i class="fas fa-cogs"></i></a>
        </div>
    </div>
{% endblock %}

{% block external_scripts %}
    {{ block.super }}
    {% load static %}
    <script src="{% static 'individual/js/load_revalidation_students.js' %}"></script>
    <script src="{% static 'individual/js/index_gsap_animations.js' %}"></script>
{% endblock %}

{% block script %}
    {{ block.super }}

    var all_labels = document.querySelectorAll('label');
    var get_saved_topic_label = undefined;
    for (var i = 0; i < all_labels.length; i++) {
        if (all_labels[i].getAttribute('for') == 'get_saved_topic') {
            get_saved_topic_label = all_labels[i];
            break;
        }
    }

    get_saved_topic_label.addEventListener('click', () => {
        window.location.replace("{% url 'base:saved_topics' %}");
    })
{% endblock %}
